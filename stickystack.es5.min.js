"use strict";var StickyStack={mobileBreak:768,list:[],number:0,stackTop:0,init:function(){StickyStack.stopObserving();for(var t=0;t<StickyStack.number;t++){var e=StickyStack.list[t].placeholder,s=StickyStack.list[t].element;e.parentNode.removeChild(e),StickyStack.removeClass(s,"stickystack-stuck"),s.style.position=null,s.style.top=null,s.style.left=null,s.style.width=null,s.style.marginTop=null,s.style.marginBottom=null}StickyStack.number=0;var a=document.getElementsByClassName("js-stickystack");if(window.innerWidth<=StickyStack.mobileBreak){for(var i=[],c=0;c<a.length;c++)StickyStack.hasClass(a[c],"js-stickystack-nomobile")||i.push(a[c]);a=i}StickyStack.number=a.length,StickyStack.list=[],StickyStack.stackTop=0;for(var l=0;l<StickyStack.number;l++){var o=window.getComputedStyle(a[l]),n=document.createElement("div");n.style.width=o.getPropertyValue("width"),n.style.height=o.getPropertyValue("height"),n.style.top=o.getPropertyValue("top"),n.style.right=o.getPropertyValue("right"),n.style.bottom=o.getPropertyValue("bottom"),n.style.left=o.getPropertyValue("left"),n.style.margin=o.getPropertyValue("margin"),n.style.padding=o.getPropertyValue("padding"),n.style.border=o.getPropertyValue("border"),n.style.float=o.getPropertyValue("float"),n.style.clear=o.getPropertyValue("clear"),n.style.position=o.getPropertyValue("position"),n.style.display="none",n.style.visibility="hidden",a[l].parentNode.insertBefore(n,a[l]);var r=StickyStack.getCoords(a[l]);StickyStack.list.push({element:a[l],top:r.top,left:r.left-parseFloat(o.getPropertyValue("margin-left")),width:parseFloat(o.getPropertyValue("width")),placeholder:n,semistuck:StickyStack.hasClass(a[l],"js-stickystack-semi"),zIndex:100-l})}StickyStack.list.sort(StickyStack.sortByTop),StickyStack.stackTop=0,a=document.getElementsByClassName("js-stickystack-top");for(var k=0;k<a.length;k++){var y=StickyStack.getCoords(a[k]).top;StickyStack.stackTop=0==k?y:Math.min(StickyStack.stackTop,y)}StickyStack.update(),StickyStack.startObserving()},update:function(){for(var t=[[StickyStack.stackTop,0,document.body.offsetWidth]],e=window.pageYOffset,s=0;s<StickyStack.number;s++){var a=StickyStack.list[s],i=a.element,c=a.placeholder,l=a.left,o=a.top-e,n=a.width,r=StickyStack.getOverlap([o,l,n],t);if(r.overlap>0){c.style.display="block",StickyStack.addClass(i,"stickystack-stuck");var k=0;if(StickyStack.list[s].semistuck&&s+1<StickyStack.number)for(var y=[[r.absolute+i.offsetHeight,l,n]],S=s+1;S<StickyStack.number;S++){var d=[StickyStack.list[S].top-e,StickyStack.list[S].left,StickyStack.list[S].width],u=StickyStack.getOverlap(d,y);if(u.overlap>0){k=u.overlap;break}}i.style.position="fixed",i.style.top=r.absolute-k+"px",i.style.left=l+"px",i.style.width=n+"px",i.style.zIndex=a.zIndex,i.style.marginTop=0,i.style.marginBottom=0,t.push([r.absolute+i.offsetHeight-k,i.offsetLeft,i.offsetWidth])}else StickyStack.removeClass(i,"stickystack-stuck"),i.style.position=null,i.style.top=null,i.style.left=null,i.style.width=null,i.style.zIndex=null,i.style.marginTop=null,i.style.marginBottom=null,c.style.display="none"}},startObserving:function(){if(StickyStack.observer)StickyStack.observer.disconnect();else{var t=window.MutationObserver||window.WebKitMutationObserver;StickyStack.observer=new t(StickyStack.init)}StickyStack.observer.observe(document.body,{attributes:!0,characterData:!0,subtree:!0})},stopObserving:function(){StickyStack.observer&&StickyStack.observer.disconnect()},getOverlap:function(t,e){for(var s=0,a=0,i=0;i<e.length;i++)t[0]<e[i][0]&&t[1]+t[2]>e[i][1]&&e[i][1]+e[i][2]>t[1]&&(s=Math.max(s,e[i][0]-t[0]),a=Math.max(a,e[i][0]));return{overlap:s,absolute:a}},sortByTop:function(t,e){return t.top-e.top},getCoords:function(t){var e=t.getBoundingClientRect(),s=document.body,a=document.documentElement,i=window.pageYOffset||a.scrollTop||s.scrollTop,c=window.pageXOffset||a.scrollLeft||s.scrollLeft,l=a.clientTop||s.clientTop||0,o=a.clientLeft||s.clientLeft||0,n=e.top+i-l,r=e.left+c-o;return{top:Math.round(n),left:Math.round(r)}},hasClass:function(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},addClass:function(t,e){t.classList?t.classList.add(e):StickyStack.hasClass(t,e)||(t.className+=" "+e)},removeClass:function(t,e){if(t.classList)t.classList.remove(e);else if(StickyStack.hasClass(t,e)){var s=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(s," ")}}};window.addEventListener("DOMContentLoaded",StickyStack.init),window.addEventListener("load",StickyStack.init),window.addEventListener("resize",StickyStack.init),window.addEventListener("scroll",StickyStack.update),window.addEventListener("DOMContentLoaded",function(){setTimeout(function(){StickyStack.update()},500)}),window.addEventListener("load",function(){setTimeout(function(){StickyStack.update()},500)});